{"version":3,"file":"logic.min.js","sources":["logic.js"],"names":["BX","namespace","checkListItem","itemData","parent","this","data","can","ACTION","checked","IS_COMPLETE","REMOVE","MODIFY","CHECKED","REMOVE_HIDDEN","MODIFY_HIDDEN","scope","getNodeByTemplate","mode","ctrls","btnEdit","control","btnDelete","btnApply","btnCheck","titleEdit","title","sortIndexFld","isCompleteFld","id","k","merge","prototype","isComplete","flag","redraw","sortIndex","index","SORT_INDEX","parseInt","ID","TITLE","destruct","remove","setEditMode","value","setReadMode","applyChanges","newTitle","toString","length","handleDelete","switchControl","innerHTML","util","htmlspecialchars","e","Tasks","Component","TaskDetailPartsChecklist","UI","Widget","extend","methods","construct","code","vars","items","newIncrement","dd","DragAndDrop","createFlying","delegate","node","itemId","item","bindDropZone","instances","dragNDrop","bindEvents","bindDelegateControl","passCtx","setItemEdit","setItemCancel","setItemApply","setItemToggle","setItemApplyOnKeydown","newItemOpenForm","newItemAdd","newItemTitleKeydown","bindEvent","itemRelocated","listNode","nodeScope","itemInst","toComplete","afterItemId","after","getOngoingItemByGreatestSortIndex","shiftSortIndexes","getSortedItemList","newArr","push","i","btn","doOnItem","deleteItem","isEnter","PreventDefault","callback","apply","addItem","unBindNode","ix","sort","a","b","complete","total","ongoingPool","create","completePool","append","bindNode","handle","moveNodePool","showControlIf","from","to","childNodes","load","type","isPlainObject","clone","max","maxItemId","getGreatestSortIndex","focus","condition","way","addClass","removeClass","window","event","keyCode"],"mappings":"AAAAA,GAAGC,UAAU,oBAEb,WAGC,GAAIC,GAAgB,SAASC,EAAUC,GAEtCC,KAAKC,KAAOH,EAASG,IAErB,UAAUH,GAASI,KAAO,mBAAsBJ,GAASI,IAAIC,QAAU,YACvE,CACCH,KAAKE,IAAMJ,EAASI,IAAIC,WAGzB,CACCH,KAAKE,OAGN,GAAIE,GAAUJ,KAAKC,KAAKI,aAAe,GAEvC,UAAUL,MAAKE,IAAII,QAAU,YAC7B,CACCN,KAAKE,IAAII,OAAS,KAEnB,SAAUN,MAAKE,IAAIK,QAAU,YAC7B,CACCP,KAAKE,IAAIK,OAAS,KAInBP,KAAKC,KAAKO,QAAUJ,EAAU,UAAY,EAC1CJ,MAAKC,KAAKQ,cAAgBT,KAAKE,IAAII,OAAS,GAAK,SACjDN,MAAKC,KAAKS,cAAgBV,KAAKE,IAAIK,OAAS,GAAK,SAEjDP,MAAKW,MAAQZ,EAAOa,kBAAkB,OAAQZ,KAAKC,MAAM,EACzDD,MAAKa,KAAO,MAEZb,MAAKc,OACJC,QAAShB,EAAOiB,QAAQ,gBAAiBhB,KAAKW,OAC9CM,UAAWlB,EAAOiB,QAAQ,kBAAmBhB,KAAKW,OAClDO,SAAUnB,EAAOiB,QAAQ,iBAAkBhB,KAAKW,OAChDQ,SAAUpB,EAAOiB,QAAQ,iBAAkBhB,KAAKW,OAEhDS,UAAWrB,EAAOiB,QAAQ,kBAAmBhB,KAAKW,OAClDU,MAAOtB,EAAOiB,QAAQ,aAAchB,KAAKW,OAGzCW,aAAcvB,EAAOiB,QAAQ,sBAAuBhB,KAAKW,OACzDY,cAAexB,EAAOiB,QAAQ,uBAAwBhB,KAAKW,OAI5DhB,IAAGM,KAAKD,KAAKW,MAAO,UAAWX,KAAKwB,KACpC,KAAI,GAAIC,KAAKzB,MAAKc,MAClB,CACCnB,GAAGM,KAAKD,KAAKc,MAAMW,GAAI,UAAWzB,KAAKwB,MAGxCxB,KAAKD,OAASA,EAEfJ,IAAG+B,MAAM7B,EAAc8B,WACtBC,WAAY,SAASC,GAEpB,SAAUA,KAAS,YACnB,CACC7B,KAAKC,KAAKI,YAAcwB,EAAO,IAAM,GACrC7B,MAAK8B,QAEL,QAGD,MAAO9B,MAAKC,KAAKI,aAAe,KAEjC0B,UAAW,SAASC,GAEnB,SAAUA,KAAU,YACpB,CACChC,KAAKC,KAAKgC,WAAaC,SAASF,EAChChC,MAAK8B,QAEL,QAGD,MAAOI,UAASlC,KAAKC,KAAKgC,aAE3BT,GAAI,WAEH,MAAOxB,MAAKC,KAAKkC,IAElBd,MAAO,SAASA,GAEf,SAAUA,IAAS,YACnB,CACCrB,KAAKC,KAAKmC,MAAQf,CAClBrB,MAAK8B,QAEL,QAGD,MAAO9B,MAAKC,KAAKmC,OAElBC,SAAU,WAET1C,GAAG2C,OAAOtC,KAAKW,MACfX,MAAKW,MAAQ,IACbX,MAAKc,MAAQ,IACbd,MAAKC,KAAO,MAEbsC,YAAa,WAEZ,GAAGvC,KAAKa,MAAQ,OAChB,CACC,OAGDb,KAAKa,KAAO,MACZb,MAAKc,MAAMM,UAAUoB,MAAQxC,KAAKC,KAAKmC,KAEvCpC,MAAK8B,UAENW,YAAa,WAEZ,GAAGzC,KAAKa,MAAQ,OAChB,CACC,OAGDb,KAAKa,KAAO,MACZb,MAAK8B,UAENY,aAAc,WAEb,GAAIC,GAAW3C,KAAKc,MAAMM,UAAUoB,MAAMI,UAE1C,IAAGD,EAASE,OAAS,EACrB,CACC7C,KAAKyC,aACLzC,MAAKqB,MAAMsB,KAGbG,aAAc,WAEb,GAAG9C,KAAKa,MAAQ,OAChB,CACCb,KAAKc,MAAMM,UAAUoB,MAAQxC,KAAKC,KAAKmC,KACvCpC,MAAKyC,aACL,OAAO,WAGR,CACC,MAAO,QAGTX,OAAQ,WAEP,GAAG9B,KAAKa,MAAQ,OAChB,CACCb,KAAKD,OAAOgD,cAAc/C,KAAKW,MAAO,UAGvC,CACCX,KAAKD,OAAOgD,cAAc/C,KAAKW,MAAO,OAKvC,IAECX,KAAKc,MAAMO,MAAM2B,UAAYrD,GAAGsD,KAAKC,iBAAiBlD,KAAKC,KAAKmC,OAEjE,MAAMe,IAIN,IAECnD,KAAKc,MAAMK,SAASf,QAAUJ,KAAK4B,aAEpC,MAAMuB,IAIN,IAECnD,KAAKc,MAAMS,cAAciB,MAAQxC,KAAK4B,aAAe,IAAM,IAE5D,MAAMuB,IAIN,IAECnD,KAAKc,MAAMQ,aAAakB,MAAQN,SAASlC,KAAK+B,aAE/C,MAAMoB,OAMRxD,IAAGyD,MAAMC,UAAUC,yBAA2B3D,GAAGyD,MAAMG,GAAGC,OAAOC,QAChEC,SACCC,UAAW,WAEV3D,KAAK4D,KAAK,YAEVjE,IAAG+B,MAAM1B,KAAK6D,MACbC,SACAC,aAAc,GAGf,IAAIC,GAAK,GAAIrE,IAAGyD,MAAMG,GAAGU,aACxBC,aAAcvE,GAAGwE,SAAS,SAASC,GAElC,GAAIC,GAAS1E,GAAGM,KAAKmE,EAAM,UAC3B,IAAIE,GAAOtE,KAAK6D,KAAKC,MAAMO,EAE3B,OAAOrE,MAAKY,kBAAkB,eAC7BwB,MAASkC,EAAKjD,QACdb,QAAW8D,EAAK1C,aAAe,UAAY,GAC3CO,GAAMmC,EAAK9C,OACT,IAEDxB,OAEJgE,GAAGO,aAAavE,KAAKgB,QAAQ,iBAC7BgD,GAAGO,aAAavE,KAAKgB,QAAQ,kBAE7BhB,MAAKwE,WACJC,UAAWT,EAGZhE,MAAK0E,cAGNA,WAAY,WAGX1E,KAAK2E,oBAAoB,QAAS,gBAAiB3E,KAAK4E,QAAQ5E,KAAK6E,aACrE7E,MAAK2E,oBAAoB,QAAS,kBAAmB3E,KAAK4E,QAAQ5E,KAAK8E,eACvE9E,MAAK2E,oBAAoB,QAAS,iBAAkB3E,KAAK4E,QAAQ5E,KAAK+E,cACtE/E,MAAK2E,oBAAoB,SAAU,iBAAkB3E,KAAK4E,QAAQ5E,KAAKgF,eACvEhF,MAAK2E,oBAAoB,UAAW,kBAAmB3E,KAAK4E,QAAQ5E,KAAKiF,uBAGzEjF,MAAK2E,oBAAoB,QAAS,qBAAsB3E,KAAK4E,QAAQ5E,KAAKkF,iBAC1ElF,MAAK2E,oBAAoB,QAAS,WAAY3E,KAAK4E,QAAQ5E,KAAKmF,YAChEnF,MAAK2E,oBAAoB,UAAW,iBAAkB3E,KAAK4E,QAAQ5E,KAAKoF,qBAGxEpF,MAAKwE,UAAUC,UAAUY,UAAU,iBAAkB1F,GAAGwE,SAASnE,KAAKsF,cAAetF,QAGtFsF,cAAe,SAASlB,EAAMmB,EAAUC,GAEvC,GAAInB,GAAS1E,GAAGM,KAAKmE,EAAM,UAC3B,IAAIqB,GAAWzF,KAAK6D,KAAKC,MAAMO,EAE/B,IAAIqB,GAAcH,GAAYvF,KAAKgB,QAAQ,iBAE3CyE,GAAS7D,WAAW8D,EAGpB,IAAIC,GAAc,KAClB,IAAGH,EAAUI,QAAU,KACvB,CACCD,EAAchG,GAAGM,KAAKuF,EAAUI,MAAO,WAExC,GAAGF,GAAcC,IAAgB,MACjC,CACCA,EAAc3F,KAAK6F,oCAGpB,GAAGF,GAAetB,EAClB,CACCrE,KAAK8F,iBAAiBzB,EAAQsB,GAG/B3F,KAAK8B,UAGNgE,iBAAkB,SAASzB,EAAQsB,GAElC,GAAI3D,GAAQhC,KAAK+F,mBACjB,IAAIC,KAEJ,IAAGL,IAAgB,MACnB,CACCK,EAAOC,KAAK5B,GAGb,IAAI,GAAI5C,GAAI,EAAGA,EAAIO,EAAMa,OAAQpB,IACjC,CACC,GAAGO,EAAMP,GAAGD,IAAM6C,EAClB,CACC,SAGD2B,EAAOC,KAAKjE,EAAMP,GAAGD,GAErB,IAAGmE,IAAgB,OAAS3D,EAAMP,GAAGD,IAAMmE,EAC3C,CACCK,EAAOC,KAAK5B,IAId,GAAI6B,GAAI,CACR,KAAI,GAAIzE,GAAI,EAAGA,EAAIuE,EAAOnD,OAAQpB,IAClC,CACCzB,KAAK6D,KAAKC,MAAMkC,EAAOvE,IAAIM,UAAUmE,EACrCA,OAIFrB,YAAa,SAASsB,GAErBnG,KAAK+C,cAAc/C,KAAKgB,QAAQ,iBAAkB,MAElDhB,MAAKoG,SAASD,EAAK,SAASV,GAC3BA,EAASlD,iBAIXuC,cAAe,SAASqB,GAEvBnG,KAAKoG,SAASD,EAAK,SAASV,GAC3B,GAAGA,EAAS3C,eACZ,CACC9C,KAAKqG,WAAWZ,EAASjE,UAK5BuD,aAAc,SAASoB,GAEtBnG,KAAKoG,SAASD,EAAK,SAASV,GAC3BA,EAAS/C,kBAIXuC,sBAAuB,SAASkB,EAAKhD,GAEpC,GAAGnD,KAAKsG,QAAQnD,GAChB,CACCnD,KAAK+E,aAAaoB,EAElBxG,IAAG4G,eAAepD,KAIpB6B,cAAe,SAASmB,GAEvBnG,KAAKoG,SAASD,EAAK,SAASV,GAC3BA,EAAS7D,WAAWuE,EAAI/F,UAGzBJ,MAAK8B,UAGNsE,SAAU,SAAShC,EAAMoC,GAExB,GAAInC,GAAS1E,GAAGM,KAAKmE,EAAM,UAE3B,UAAUC,IAAU,aAAeA,IAAW,KAC9C,CACCmC,EAASC,MAAMzG,MAAOA,KAAK6D,KAAKC,MAAMO,OAIxCqC,QAAS,SAAS5G,GAEjB,GAAGA,EAASG,KAAKmC,MAAMQ,WAAWC,QAAU,EAC5C,CACC,OAGD,GAAI4C,GAAW,GAAI5F,GAAcC,EAAUE,KAE3CA,MAAK6D,KAAKC,MAAM2B,EAASjE,MAAQiE,GAGlCY,WAAY,SAAS7E,GAEpB,SAAUxB,MAAK6D,KAAKC,MAAMtC,IAAO,YACjC,CACC,OAGD,GAAIiE,GAAWzF,KAAK6D,KAAKC,MAAMtC,EAC/BxB,MAAKwE,UAAUC,UAAUkC,WAAWlB,EAAS9E,MAC7C8E,GAASpD,UAETrC,MAAK6D,KAAKC,MAAMtC,GAAM,WACfxB,MAAK6D,KAAKC,MAAMtC,EAEvBxB,MAAK8B,UAGNiE,kBAAmB,WAElB,GAAI/D,KAGJ,KAAI,GAAIP,KAAKzB,MAAK6D,KAAKC,MACvB,CACC9B,EAAMiE,MACLW,GAAI5G,KAAK6D,KAAKC,MAAMrC,GAAGM,YACvBP,GAAIxB,KAAK6D,KAAKC,MAAMrC,GAAGD,OAIzB,MAAOQ,GAAM6E,KAAK,SAASC,EAAEC,GAC5B,GAAGD,EAAEF,GAAKG,EAAEH,GACZ,CACC,OAAQ,MAEJ,IAAGE,EAAEF,GAAKG,EAAEH,GACjB,CACC,MAAO,GAGR,MAAO,MAIT9E,OAAQ,WAEP,GAAIkF,GAAW,CACf,IAAIC,GAAQ,CACZ,IAAIjF,GAAQhC,KAAK+F,mBAGjB,IAAImB,GAAcvH,GAAGwH,OAAO,MAC5B,IAAIC,GAAezH,GAAGwH,OAAO,MAE7B,KAAI,GAAI1F,GAAI,EAAGA,EAAIO,EAAMa,OAAQpB,IACjC,CACCwF,GACA,IAAGjH,KAAK6D,KAAKC,MAAM9B,EAAMP,GAAGD,IAAII,aAChC,CACCoF,IAGD,GAAIvB,GAAWzF,KAAK6D,KAAKC,MAAM9B,EAAMP,GAAGD,GAExC7B,IAAG0H,OAAO5B,EAAS9E,MAAO8E,EAAS7D,aAAewF,EAAeF,EAEjElH,MAAKwE,UAAUC,UAAU6C,SAAS7B,EAAS9E,OAAQ4G,OAAQvH,KAAKgB,QAAQ,YAAayE,EAAS9E,SAG/FX,KAAKwH,aAAaJ,EAAcpH,KAAKgB,QAAQ,kBAC7ChB,MAAKwH,aAAaN,EAAalH,KAAKgB,QAAQ,iBAI5ChB,MAAKyH,cAAc,iBAAkBT,EAAW,EAIhD,KAEChH,KAAKgB,QAAQ,mBAAmBgC,UAAYiE,EAAQD,EAErD,MAAM7D,IAIN,IAECnD,KAAKgB,QAAQ,oBAAoBgC,UAAYgE,EAE9C,MAAM7D,MAKPqE,aAAc,SAASE,EAAMC,GAE5B,MAAMD,EAAKE,WAAW/E,OAAS,EAC/B,CACClD,GAAG0H,OAAOK,EAAKE,WAAW,GAAID,KAIhCE,KAAM,SAAS5H,EAAMC,GAEpB,GAAGP,GAAGmI,KAAKC,cAAc9H,GACzB,CACC,IAAI,GAAIwB,KAAKxB,GACb,CACC,GAAIqE,IAAQrE,KAAMN,GAAGqI,MAAM/H,EAAKwB,IAAKvB,OAErC,UAAUA,GAAIuB,IAAM,YACpB,CACC6C,EAAKpE,IAAMP,GAAGqI,MAAM9H,EAAIuB,IAGzBzB,KAAK0G,QAAQpC,GAGdtE,KAAK8B,WAIP+D,kCAAmC,WAElC,GAAIoC,GAAM,CACV,IAAIC,GAAY,KAChB,KAAI,GAAIzG,KAAKzB,MAAK6D,KAAKC,MACvB,CACC,GAAI9B,GAAQhC,KAAK6D,KAAKC,MAAMrC,GAAGM,WAE/B,IAAGC,EAAQiG,IAAQjI,KAAK6D,KAAKC,MAAMrC,GAAGG,aACtC,CACCqG,EAAMjG,CACNkG,GAAYzG,GAId,MAAOyG,IAGRC,qBAAsB,WAErB,GAAIF,GAAM,CACV,KAAI,GAAIxG,KAAKzB,MAAK6D,KAAKC,MACvB,CACC,GAAI9B,GAAQhC,KAAK6D,KAAKC,MAAMrC,GAAGM,WAE/B,IAAGC,EAAQiG,EACX,CACCA,EAAMjG,GAIR,MAAOiG,IAKR/C,gBAAiB,WAEhBlF,KAAK+C,cAAc/C,KAAKgB,QAAQ,iBAAkB,KAClDhB,MAAKgB,QAAQ,kBAAkBoH,SAGhChD,oBAAqB,SAAShB,EAAMjB,GAEnC,GAAGnD,KAAKsG,QAAQnD,GAChB,CACCnD,KAAKmF,YAELxF,IAAG4G,eAAepD,KAIpBgC,WAAY,WAEX,GAAGnF,KAAKgB,QAAQ,kBAAkBwB,MAAMI,WAAWC,OAAS,EAC5D,CACC,OAGD,GAAI5C,IACHkC,GAAI,IAAKnC,KAAK6D,KAAKE,eACnB1D,YAAa,IACb4B,WAAYjC,KAAKmI,uBAAyB,EAC1C/F,MAAOpC,KAAKgB,QAAQ,kBAAkBwB,MAGvCxC,MAAKgB,QAAQ,kBAAkBwB,MAAQ,EACvCxC,MAAKgB,QAAQ,kBAAkBoH,OAE/BpI,MAAK0G,SAASzG,KAAMA,GACpBD,MAAK8B,UAKN2F,cAAe,SAASjG,EAAI6G,GAE3B1I,GAAG0I,EAAY,cAAgB,YAAYrI,KAAKgB,QAAQQ,GAAK,WAG9DuB,cAAe,SAASqB,EAAMkE,GAE7BA,EAAMA,GAAO,IAEb,IAAGA,EACH,CACC3I,GAAG4I,SAASnE,EAAM,KAClBzE,IAAG6I,YAAYpE,EAAM,WAGtB,CACCzE,GAAG6I,YAAYpE,EAAM,KACrBzE,IAAG4I,SAASnE,EAAM,SAIpBkC,QAAS,SAASnD,GAEjBA,EAAIA,GAAKsF,OAAOC,KAEhB,OAAOvF,GAAEwF,SAAW"}